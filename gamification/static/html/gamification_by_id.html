<div class="gamification_block">

	<!-- ID1 :: {self.scope_ids.usage_id}
	ID2 :: {self.scope_ids.def_id} -->
 	<div id="incr-{self.scope_ids.def_id}"></div>
    <param id="id_tmp_arg" value="{self.scope_ids.def_id}"></param>
    <script>
    	fetch("https://agmodule.herokuapp.com/api/g_mechanics/{self.gmechanic_id}/?user=user2&dynamic_index=" + "{self.scope_ids.def_id}".replace(/[\s\.\&\:\+\@]/g, "")) //&dynamic_index={self.scope_ids.def_id}
    	.then(response => response.json())
        .then(gmJson => ($('#incr-{self.scope_ids.def_id}',document.body).innerHTML = gmJson.html, 
        				$(gmJson.html).appendTo(document.body), 
        				console.log("GMechanic loaded successfully")))
        .catch(error => console.log("Error: " + error))
    </script>
</div>
